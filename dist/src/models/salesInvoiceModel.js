function a11_0xa807(){const _0x42c4e5=['âš ï¸\x20No\x20sales\x20invoice\x20data\x20to\x20insert\x20or\x20update.','message','replace','../config/db','Vtweg','3864663xBsqdJ','Waerk','match','toString','6aMjcuC','Fkart','Data\x20inserted/updated\x20successfully','Transaction','1705660zZpOta','Gjahr','Posnr','length','âŒ\x20Failed\x20to\x20process\x20invoice\x20','726XMALOh','367801wrGhiA','Matnr','14084GrPuUU','1900-01-01T00:00:00','VarChar','Werks','âŒ\x20Transaction\x20Failed:','warn','1140156JcJoNO','Vkorg','Error\x20inserting/updating\x20data','Aupos','ðŸ”\x20Processing\x20Invoice:','âœ…\x20All\x20sales\x20invoices\x20upserted\x20successfully.','Fktyp','Netwr','10hpSEYT','Fkdat','exports','query','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20MERGE\x20INTO\x20SalesInvoice\x20AS\x20target\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20USING\x20(SELECT\x20@Vbeln\x20AS\x20Vbeln,\x20@Posnr\x20AS\x20Posnr)\x20AS\x20source\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ON\x20target.Vbeln\x20=\x20source.Vbeln\x20AND\x20target.Posnr\x20=\x20source.Posnr\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHEN\x20MATCHED\x20THEN\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20UPDATE\x20SET\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Netwr\x20=\x20@Netwr,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Fkart\x20=\x20@Fkart,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Fktyp\x20=\x20@Fktyp,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Vkorg\x20=\x20@Vkorg,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Waerk\x20=\x20@Waerk,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Gjahr\x20=\x20@Gjahr,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Fkdat\x20=\x20@Fkdat,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Aubel\x20=\x20@Aubel,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Matnr\x20=\x20@Matnr,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Matkl\x20=\x20@Matkl,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Vtweg\x20=\x20@Vtweg,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Bzirk\x20=\x20@Bzirk,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Spart\x20=\x20@Spart,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Kunag\x20=\x20@Kunag,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Aupos\x20=\x20@Aupos,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Werks\x20=\x20@Werks\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHEN\x20NOT\x20MATCHED\x20THEN\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20(Vbeln,\x20Posnr,\x20Netwr,\x20Fkart,\x20Fktyp,\x20Vkorg,\x20Waerk,\x20Gjahr,\x20Fkdat,\x20Aubel,\x20Matnr,\x20Matkl,\x20Vtweg,\x20Bzirk,\x20Spart,\x20Kunag,\x20Aupos,\x20Werks)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20(@Vbeln,\x20@Posnr,\x20@Netwr,\x20@Fkart,\x20@Fktyp,\x20@Vkorg,\x20@Waerk,\x20@Gjahr,\x20@Fkdat,\x20@Aubel,\x20@Matnr,\x20@Matkl,\x20@Vtweg,\x20@Bzirk,\x20@Spart,\x20@Kunag,\x20@Aupos,\x20@Werks);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','error','begin','Aubel','input','Spart','log','1137752SrMzNZ','Bzirk','Matkl','Vbeln',',\x20Posnr=','Kunag','106701HQdYhx'];a11_0xa807=function(){return _0x42c4e5;};return a11_0xa807();}function a11_0x3421(_0x5b5e63,_0x3e2633){const _0xa80722=a11_0xa807();return a11_0x3421=function(_0x342123,_0x3f1d28){_0x342123=_0x342123-0x103;let _0x270c99=_0xa80722[_0x342123];return _0x270c99;},a11_0x3421(_0x5b5e63,_0x3e2633);}const a11_0x814d73=a11_0x3421;(function(_0x242def,_0x21ca79){const _0x3198ff=a11_0x3421,_0x22093b=_0x242def();while(!![]){try{const _0x213de4=-parseInt(_0x3198ff(0x10e))/0x1+-parseInt(_0x3198ff(0x104))/0x2*(parseInt(_0x3198ff(0x12f))/0x3)+parseInt(_0x3198ff(0x116))/0x4+parseInt(_0x3198ff(0x108))/0x5+-parseInt(_0x3198ff(0x10d))/0x6*(parseInt(_0x3198ff(0x110))/0x7)+-parseInt(_0x3198ff(0x129))/0x8+parseInt(_0x3198ff(0x135))/0x9*(parseInt(_0x3198ff(0x11e))/0xa);if(_0x213de4===_0x21ca79)break;else _0x22093b['push'](_0x22093b['shift']());}catch(_0x74569e){_0x22093b['push'](_0x22093b['shift']());}}}(a11_0xa807,0x2fb4d));const {sql,poolPromise}=require(a11_0x814d73(0x133)),convertSAPDateTime=_0x170a1c=>{const _0x3eed41=a11_0x814d73;if(!_0x170a1c||!_0x170a1c[_0x3eed41(0x137)](/\d+/))return new Date(_0x3eed41(0x111));const _0x45a3a0=parseInt(_0x170a1c[_0x3eed41(0x137)](/\d+/)[0x0],0xa);return new Date(_0x45a3a0);},convertToDecimal=_0x1c496b=>{const _0x107df5=a11_0x814d73;if(!_0x1c496b||isNaN(_0x1c496b))return 0x0;return parseFloat(_0x1c496b[_0x107df5(0x103)]()[_0x107df5(0x132)](',','.'));},insertOrUpdateSalesInvoices=async _0x869435=>{const _0x337b6f=a11_0x814d73;if(!_0x869435||_0x869435[_0x337b6f(0x10b)]===0x0)return console[_0x337b6f(0x115)](_0x337b6f(0x130)),{'success':![],'message':'No\x20data\x20provided\x20for\x20upsertion'};try{const _0x4a078f=await poolPromise,_0x3d26fe=new sql[(_0x337b6f(0x107))](_0x4a078f);await _0x3d26fe[_0x337b6f(0x124)]();for(let _0x1233ba of _0x869435){try{console[_0x337b6f(0x128)](_0x337b6f(0x11a),_0x1233ba[_0x337b6f(0x12c)],_0x1233ba[_0x337b6f(0x10a)]),await _0x3d26fe['request']()[_0x337b6f(0x126)](_0x337b6f(0x12c),sql[_0x337b6f(0x112)](0x14),_0x1233ba[_0x337b6f(0x12c)])['input'](_0x337b6f(0x10a),sql[_0x337b6f(0x112)](0xa),_0x1233ba[_0x337b6f(0x10a)])[_0x337b6f(0x126)]('Netwr',sql['Decimal'](0xa,0x2),convertToDecimal(_0x1233ba[_0x337b6f(0x11d)]))[_0x337b6f(0x126)](_0x337b6f(0x105),sql[_0x337b6f(0x112)](0xa),_0x1233ba['Fkart'])[_0x337b6f(0x126)](_0x337b6f(0x11c),sql[_0x337b6f(0x112)](0xa),_0x1233ba[_0x337b6f(0x11c)])['input'](_0x337b6f(0x117),sql[_0x337b6f(0x112)](0xa),_0x1233ba['Vkorg'])['input'](_0x337b6f(0x136),sql['VarChar'](0x5),_0x1233ba[_0x337b6f(0x136)])['input']('Gjahr',sql[_0x337b6f(0x112)](0x4),_0x1233ba[_0x337b6f(0x109)])['input']('Fkdat',sql['DateTime'],convertSAPDateTime(_0x1233ba[_0x337b6f(0x11f)]))[_0x337b6f(0x126)](_0x337b6f(0x125),sql['VarChar'](0x14),_0x1233ba[_0x337b6f(0x125)])[_0x337b6f(0x126)](_0x337b6f(0x10f),sql[_0x337b6f(0x112)](0x32),_0x1233ba['Matnr'])['input'](_0x337b6f(0x12b),sql[_0x337b6f(0x112)](0x32),_0x1233ba[_0x337b6f(0x12b)])[_0x337b6f(0x126)](_0x337b6f(0x134),sql[_0x337b6f(0x112)](0xa),_0x1233ba[_0x337b6f(0x134)])[_0x337b6f(0x126)](_0x337b6f(0x12a),sql['VarChar'](0xa),_0x1233ba[_0x337b6f(0x12a)])[_0x337b6f(0x126)](_0x337b6f(0x127),sql[_0x337b6f(0x112)](0xa),_0x1233ba[_0x337b6f(0x127)])['input'](_0x337b6f(0x12e),sql[_0x337b6f(0x112)](0x14),_0x1233ba['Kunag'])[_0x337b6f(0x126)](_0x337b6f(0x119),sql[_0x337b6f(0x112)](0xa),_0x1233ba['Aupos'])[_0x337b6f(0x126)](_0x337b6f(0x113),sql[_0x337b6f(0x112)](0xa),_0x1233ba[_0x337b6f(0x113)])[_0x337b6f(0x121)](_0x337b6f(0x122)),console[_0x337b6f(0x128)]('âœ…\x20Upserted:\x20Vbeln='+_0x1233ba[_0x337b6f(0x12c)]+_0x337b6f(0x12d)+_0x1233ba[_0x337b6f(0x10a)]);}catch(_0x47d13b){console[_0x337b6f(0x123)](_0x337b6f(0x10c)+_0x1233ba['Vbeln']+'-'+_0x1233ba['Posnr']+':',_0x47d13b[_0x337b6f(0x131)]);}}return await _0x3d26fe['commit'](),console[_0x337b6f(0x128)](_0x337b6f(0x11b)),{'success':!![],'message':_0x337b6f(0x106)};}catch(_0x210637){return console['error'](_0x337b6f(0x114),_0x210637),{'success':![],'message':_0x337b6f(0x118),'error':_0x210637};}};module[a11_0x814d73(0x120)]={'insertOrUpdateSalesInvoices':insertOrUpdateSalesInvoices};