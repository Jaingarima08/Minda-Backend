const a12_0x5b4e96=a12_0x377d;(function(_0x335050,_0x3bbd16){const _0x3d210b=a12_0x377d,_0x17a7be=_0x335050();while(!![]){try{const _0x272eff=parseInt(_0x3d210b(0xfb))/0x1*(parseInt(_0x3d210b(0x10c))/0x2)+parseInt(_0x3d210b(0xff))/0x3+parseInt(_0x3d210b(0xf8))/0x4+parseInt(_0x3d210b(0xf5))/0x5+parseInt(_0x3d210b(0xf2))/0x6*(-parseInt(_0x3d210b(0x109))/0x7)+parseInt(_0x3d210b(0x107))/0x8*(-parseInt(_0x3d210b(0xf9))/0x9)+parseInt(_0x3d210b(0xf3))/0xa;if(_0x272eff===_0x3bbd16)break;else _0x17a7be['push'](_0x17a7be['shift']());}catch(_0x535e83){_0x17a7be['push'](_0x17a7be['shift']());}}}(a12_0x1064,0xddf71));function a12_0x1064(){const _0xf631ba=['‚ùå\x20Failed\x20to\x20process\x20row\x20for\x20ProdCatgry=','message','822716lVEDvt','11745423fRQUDe','ProdCatgry','195cLwAWQ','‚úÖ\x20Processed:\x20Gjahr=','DateTime','MonthD','626409CiYird','‚úÖ\x20All\x20sales\x20data\x20inserted/updated\x20successfully','Data\x20inserted/updated\x20successfully','Error\x20inserting/updating\x20data','query','Gjahr','begin','‚ö†Ô∏è\x20No\x20sales\x20data\x20to\x20insert.','8NeSYMe',',\x20ProdCatgry=','1484fEEaxl','Erdat','length','4134tllDpr','Ernam','../config/db','Budget','error','exports','request','VarChar','Lzone','warn','input','Transaction','PlanOrderQuantity','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20MERGE\x20INTO\x20ZGMB_SALES_TARGT\x20AS\x20target\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20USING\x20(SELECT\x20@Gjahr\x20AS\x20Gjahr,\x20@MonthD\x20AS\x20MonthD,\x20@Lzone\x20AS\x20Lzone,\x20@ProdCatgry\x20AS\x20ProdCatgry,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@PlanOrderQuantity\x20AS\x20PlanOrderQuantity,\x20@Budget\x20AS\x20Budget,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@Erdat\x20AS\x20Erdat,\x20@Ernam\x20AS\x20Ernam)\x20AS\x20source\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ON\x20target.Gjahr\x20=\x20source.Gjahr\x20AND\x20target.ProdCatgry\x20=\x20source.ProdCatgry\x20AND\x20target.MonthD\x20=\x20source.MonthD\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHEN\x20MATCHED\x20THEN\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20UPDATE\x20SET\x20Lzone\x20=\x20source.Lzone,\x20PlanOrderQuantity\x20=\x20source.PlanOrderQuantity,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Budget\x20=\x20source.Budget,\x20Erdat\x20=\x20source.Erdat,\x20Ernam\x20=\x20source.Ernam\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHEN\x20NOT\x20MATCHED\x20THEN\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20(Gjahr,\x20MonthD,\x20Lzone,\x20ProdCatgry,\x20PlanOrderQuantity,\x20Budget,\x20Erdat,\x20Ernam)\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20(source.Gjahr,\x20source.MonthD,\x20source.Lzone,\x20source.ProdCatgry,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20source.PlanOrderQuantity,\x20source.Budget,\x20source.Erdat,\x20source.Ernam);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','log','12588MMFGlY','11151650PCyuxb','No\x20data\x20provided\x20for\x20insertion','3631400WlFxrh'];a12_0x1064=function(){return _0xf631ba;};return a12_0x1064();}const {poolPromise,sql}=require(a12_0x5b4e96(0x10e)),insertOrUpdateSalesData=async _0x2af25f=>{const _0x2d89e3=a12_0x5b4e96;if(!_0x2af25f||_0x2af25f[_0x2d89e3(0x10b)]===0x0)return console[_0x2d89e3(0xec)](_0x2d89e3(0x106)),{'success':![],'message':_0x2d89e3(0xf4)};let _0xb1c860;try{_0xb1c860=await poolPromise;const _0x37ab08=new sql[(_0x2d89e3(0xee))](_0xb1c860);await _0x37ab08[_0x2d89e3(0x105)]();for(let _0x1ae413 of _0x2af25f){try{console['log']('üîç\x20Processing\x20Data:',_0x1ae413),await _0x37ab08[_0x2d89e3(0xe9)]()[_0x2d89e3(0xed)](_0x2d89e3(0x104),sql['VarChar'],_0x1ae413[_0x2d89e3(0x104)])[_0x2d89e3(0xed)](_0x2d89e3(0xfe),sql[_0x2d89e3(0xea)],_0x1ae413['MonthD'])[_0x2d89e3(0xed)](_0x2d89e3(0xeb),sql['VarChar'],_0x1ae413[_0x2d89e3(0xeb)])[_0x2d89e3(0xed)]('ProdCatgry',sql[_0x2d89e3(0xea)],_0x1ae413['ProdCatgry'])[_0x2d89e3(0xed)](_0x2d89e3(0xef),sql['Decimal'](0xa,0x2),parseFloat(_0x1ae413[_0x2d89e3(0xef)])||0x0)[_0x2d89e3(0xed)]('Budget',sql['Decimal'](0xf,0x2),parseFloat(_0x1ae413[_0x2d89e3(0x10f)])||0x0)[_0x2d89e3(0xed)](_0x2d89e3(0x10a),sql[_0x2d89e3(0xfd)],_0x1ae413[_0x2d89e3(0x10a)])['input'](_0x2d89e3(0x10d),sql[_0x2d89e3(0xea)],_0x1ae413[_0x2d89e3(0x10d)])[_0x2d89e3(0x103)](_0x2d89e3(0xf0)),console[_0x2d89e3(0xf1)](_0x2d89e3(0xfc)+_0x1ae413[_0x2d89e3(0x104)]+_0x2d89e3(0x108)+_0x1ae413['ProdCatgry']);}catch(_0x4c306c){console[_0x2d89e3(0xe7)](_0x2d89e3(0xf6)+_0x1ae413[_0x2d89e3(0xfa)]+':',_0x4c306c[_0x2d89e3(0xf7)]);}}return await _0x37ab08['commit'](),console[_0x2d89e3(0xf1)](_0x2d89e3(0x100)),{'success':!![],'message':_0x2d89e3(0x101)};}catch(_0xc372eb){return console[_0x2d89e3(0xe7)]('‚ùå\x20Transaction\x20Failed:',_0xc372eb),{'success':![],'message':_0x2d89e3(0x102),'error':_0xc372eb};}};function a12_0x377d(_0x57bdc5,_0x4e0895){const _0x106460=a12_0x1064();return a12_0x377d=function(_0x377de5,_0xa0e3ed){_0x377de5=_0x377de5-0xe7;let _0x204633=_0x106460[_0x377de5];return _0x204633;},a12_0x377d(_0x57bdc5,_0x4e0895);}module[a12_0x5b4e96(0xe8)]={'insertOrUpdateSalesData':insertOrUpdateSalesData};