const a13_0x2a31cc=a13_0x2921;function a13_0x2921(_0x18251d,_0x439fa7){const _0x3a9e44=a13_0x3a9e();return a13_0x2921=function(_0x2921ce,_0x47f140){_0x2921ce=_0x2921ce-0x1e5;let _0x5511ea=_0x3a9e44[_0x2921ce];return _0x5511ea;},a13_0x2921(_0x18251d,_0x439fa7);}function a13_0x3a9e(){const _0x41d9da=['Bztxt','Auart','length','error','‚úÖ\x20Processed:\x20Vbeln=','91962ottuXa','2425KhtqXZ','Decimal','VarChar','warn','1374pbgvTn','704936lXTSAM','Data\x20inserted/updated\x20successfully','3ExuuTq','message','commit','input','62255VbQzPL','Posnr','‚ö†Ô∏è\x20No\x20sales\x20order\x20data\x20to\x20insert\x20or\x20update.','üîç\x20Processing\x20Sales\x20Order:','Vtext','Bzirk','Netwr','98080UERrRV','Vkorg','Matnr','Wgbez','‚ùå\x20Failed\x20to\x20process\x20sales\x20order\x20','‚úÖ\x20All\x20sales\x20order\x20data\x20processed\x20successfully.','../config/db','query','Kunnr','629464DCsHtT','begin','190WgdNLq','Error\x20processing\x20data','log','request','Erdat','Matkl','exports','Spart','DateTime','No\x20data\x20provided\x20for\x20processing','Waerk','450016OMorcI','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20MERGE\x20INTO\x20SalesOrderInfo\x20AS\x20target\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20USING\x20(SELECT\x20@Vbeln\x20AS\x20Vbeln,\x20@Posnr\x20AS\x20Posnr)\x20AS\x20source\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ON\x20target.Vbeln\x20=\x20source.Vbeln\x20AND\x20target.Posnr\x20=\x20source.Posnr\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHEN\x20MATCHED\x20THEN\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20UPDATE\x20SET\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Kunnr\x20=\x20@Kunnr,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Erdat\x20=\x20@Erdat,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Auart\x20=\x20@Auart,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Vkorg\x20=\x20@Vkorg,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Netwr\x20=\x20@Netwr,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Waerk\x20=\x20@Waerk,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Matnr\x20=\x20@Matnr,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Matkl\x20=\x20@Matkl,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Wgbez\x20=\x20@Wgbez,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Spart\x20=\x20@Spart,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Vtext\x20=\x20@Vtext,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Bzirk\x20=\x20@Bzirk,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Bztxt\x20=\x20@Bztxt\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHEN\x20NOT\x20MATCHED\x20THEN\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20(Vbeln,\x20Posnr,\x20Kunnr,\x20Erdat,\x20Auart,\x20Vkorg,\x20Netwr,\x20Waerk,\x20Matnr,\x20Matkl,\x20Wgbez,\x20Spart,\x20Vtext,\x20Bzirk,\x20Bztxt)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20(@Vbeln,\x20@Posnr,\x20@Kunnr,\x20@Erdat,\x20@Auart,\x20@Vkorg,\x20@Netwr,\x20@Waerk,\x20@Matnr,\x20@Matkl,\x20@Wgbez,\x20@Spart,\x20@Vtext,\x20@Bzirk,\x20@Bztxt);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Vbeln','Transaction'];a13_0x3a9e=function(){return _0x41d9da;};return a13_0x3a9e();}(function(_0x53a7e5,_0x2718ca){const _0x1f3740=a13_0x2921,_0x56d385=_0x53a7e5();while(!![]){try{const _0x54c981=parseInt(_0x1f3740(0x203))/0x1+parseInt(_0x1f3740(0x20a))/0x2+-parseInt(_0x1f3740(0x1ff))/0x3*(parseInt(_0x1f3740(0x1fd))/0x4)+parseInt(_0x1f3740(0x1f8))/0x5*(-parseInt(_0x1f3740(0x1fc))/0x6)+parseInt(_0x1f3740(0x1ee))/0x7+parseInt(_0x1f3740(0x213))/0x8+-parseInt(_0x1f3740(0x1f7))/0x9*(-parseInt(_0x1f3740(0x215))/0xa);if(_0x54c981===_0x2718ca)break;else _0x56d385['push'](_0x56d385['shift']());}catch(_0x2ab371){_0x56d385['push'](_0x56d385['shift']());}}}(a13_0x3a9e,0x27555));const {sql,poolPromise}=require(a13_0x2a31cc(0x210)),insertOrUpdateSalesOrders=async _0x1886d3=>{const _0x46c518=a13_0x2a31cc;if(!_0x1886d3||_0x1886d3[_0x46c518(0x1f4)]===0x0)return console[_0x46c518(0x1fb)](_0x46c518(0x205)),{'success':![],'message':_0x46c518(0x1ec)};try{const _0x561fc2=await poolPromise,_0x22288d=new sql[(_0x46c518(0x1f1))](_0x561fc2);await _0x22288d[_0x46c518(0x214)]();for(let _0x1b9e9b of _0x1886d3){try{console[_0x46c518(0x1e5)](_0x46c518(0x206),_0x1b9e9b[_0x46c518(0x1f0)]),await _0x22288d[_0x46c518(0x1e6)]()['input'](_0x46c518(0x1f0),sql[_0x46c518(0x1fa)],_0x1b9e9b[_0x46c518(0x1f0)])[_0x46c518(0x202)](_0x46c518(0x204),sql['VarChar'],_0x1b9e9b[_0x46c518(0x204)])[_0x46c518(0x202)]('Kunnr',sql[_0x46c518(0x1fa)],_0x1b9e9b[_0x46c518(0x212)])[_0x46c518(0x202)](_0x46c518(0x1e7),sql[_0x46c518(0x1eb)],_0x1b9e9b[_0x46c518(0x1e7)]?new Date(_0x1b9e9b[_0x46c518(0x1e7)]):null)[_0x46c518(0x202)](_0x46c518(0x1f3),sql[_0x46c518(0x1fa)],_0x1b9e9b[_0x46c518(0x1f3)])[_0x46c518(0x202)](_0x46c518(0x20b),sql[_0x46c518(0x1fa)],_0x1b9e9b[_0x46c518(0x20b)])[_0x46c518(0x202)](_0x46c518(0x209),sql[_0x46c518(0x1f9)](0x12,0x2),parseFloat(_0x1b9e9b[_0x46c518(0x209)])||0x0)[_0x46c518(0x202)](_0x46c518(0x1ed),sql[_0x46c518(0x1fa)],_0x1b9e9b['Waerk'])[_0x46c518(0x202)](_0x46c518(0x20c),sql[_0x46c518(0x1fa)],_0x1b9e9b[_0x46c518(0x20c)])[_0x46c518(0x202)](_0x46c518(0x1e8),sql[_0x46c518(0x1fa)],_0x1b9e9b[_0x46c518(0x1e8)])[_0x46c518(0x202)](_0x46c518(0x20d),sql[_0x46c518(0x1fa)],_0x1b9e9b[_0x46c518(0x20d)])[_0x46c518(0x202)](_0x46c518(0x1ea),sql[_0x46c518(0x1fa)],_0x1b9e9b['Spart'])[_0x46c518(0x202)]('Vtext',sql[_0x46c518(0x1fa)],_0x1b9e9b[_0x46c518(0x207)])[_0x46c518(0x202)](_0x46c518(0x208),sql[_0x46c518(0x1fa)],_0x1b9e9b[_0x46c518(0x208)])[_0x46c518(0x202)](_0x46c518(0x1f2),sql[_0x46c518(0x1fa)],_0x1b9e9b[_0x46c518(0x1f2)])[_0x46c518(0x211)](_0x46c518(0x1ef)),console[_0x46c518(0x1e5)](_0x46c518(0x1f6)+_0x1b9e9b[_0x46c518(0x1f0)]);}catch(_0x5d37ec){console[_0x46c518(0x1f5)](_0x46c518(0x20e)+_0x1b9e9b[_0x46c518(0x1f0)]+':',_0x5d37ec[_0x46c518(0x200)]);}}return await _0x22288d[_0x46c518(0x201)](),console['log'](_0x46c518(0x20f)),{'success':!![],'message':_0x46c518(0x1fe)};}catch(_0x4b03ee){return console['error']('‚ùå\x20Transaction\x20Failed:',_0x4b03ee),{'success':![],'message':_0x46c518(0x216),'error':_0x4b03ee};}};module[a13_0x2a31cc(0x1e9)]={'insertOrUpdateSalesOrders':insertOrUpdateSalesOrders};